<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modern Music Player</title>
    <!-- Link to the external CSS file -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- SVG Icon Definitions -->
    <svg
      style="position: absolute; width: 0; height: 0; overflow: hidden"
      aria-hidden="true"
    >
      <defs>
        <symbol id="icon-play" viewBox="0 0 24 24">
          <path d="M8 5v14l11-7z"></path>
        </symbol>
        <symbol id="icon-pause" viewBox="0 0 24 24">
          <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path>
        </symbol>
        <symbol id="icon-next" viewBox="0 0 24 24">
          <path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"></path>
        </symbol>
        <symbol id="icon-prev" viewBox="0 0 24 24">
          <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"></path>
        </symbol>
        <symbol id="icon-seek-backward" viewBox="0 0 24 24">
          <path
            d="M11.99 5V1l-5 5 5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6h-2c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8zM10 12v-1.5c0-.41-.34-.75-.75-.75s-.75.34-.75.75V12c0 .41.34.75.75.75s.75-.34.75-.75zm2.5 0v-1.5c0-.41-.34-.75-.75-.75s-.75.34.75.75V12c0 .41.34.75.75.75s.75-.34.75-.75z"
          ></path>
        </symbol>
        <symbol id="icon-seek-forward" viewBox="0 0 24 24">
          <path
            d="M12.01 5V1l5 5-5 5V7c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6h2c0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8zm-1 6v1.5c0 .41.34.75.75.75s.75-.34.75-.75V12c0-.41-.34-.75-.75-.75s-.75.34.75.75zm2.5 0v1.5c0 .41.34.75.75.75s.75-.34.75-.75V12c0-.41-.34-.75-.75-.75s-.75.34.75.75z"
          ></path>
        </symbol>
        <symbol id="icon-volume-high" viewBox="0 0 24 24">
          <path
            d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"
          ></path>
        </symbol>
        <symbol id="icon-volume-mute" viewBox="0 0 24 24">
          <path
            d="M7 9v6h4l5 5V4L7 9H3zm7.58 3l4.95 4.95L21.41 15l-4.95-4.95 4.95-4.95L19.53 3.17 14.58 8.12 9.62 3.17 7.74 5.05l4.95 4.95-4.95 4.95 1.88 1.88z"
          ></path>
        </symbol>
        <symbol id="icon-speed" viewBox="0 0 24 24">
          <path
            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.29 12.88L12 12.17V7h1.5v4.38l.91.53c.3.17.4.55.23.85l-.23.4c-.17.3-.55.4-.85.22z"
          ></path>
        </symbol>
        <symbol id="icon-sun" viewBox="0 0 24 24">
          <path
            d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zm-9-7c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1s-1 .45-1 1v2c0 .55.45 1 1 1zm0 12c.55 0 1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1v2c0 .55.45 1 1 1zM5.64 7.05c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L5.64 4.22c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l1.41 1.42zm12.73 12.73c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41l-1.41-1.41c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l1.41 1.41zM4.22 18.36c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41l-1.41-1.41c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l1.41 1.41zm14.14-14.14c.39.39 1.02.39 1.41 0s.39 1.02 0 1.41l-1.41 1.41c-.39.39-1.02-.39-1.41 0-.39-.39-.39-1.02 0 1.41l1.41-1.41z"
          ></path>
        </symbol>
        <symbol id="icon-moon" viewBox="0 0 24 24">
          <path
            d="M10 2c-1.82 0-3.53.5-5 1.35 2.99 1.73 5 4.95 5 8.65s-2.01 6.92-5 8.65C6.47 21.5 8.18 22 10 22c5.52 0 10-4.48 10-10S15.52 2 10 2z"
          ></path>
        </symbol>
        <symbol id="icon-add" viewBox="0 0 24 24">
          <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path>
        </symbol>
        <symbol id="icon-upload" viewBox="0 0 24 24">
          <path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"></path>
        </symbol>
        <symbol id="icon-playlist" viewBox="0 0 24 24">
          <path d="M4 10h12v2H4zm0-4h12v2H4zm0 8h8v2H4zm10 0v6l5-3z"></path>
        </symbol>
        <symbol id="icon-edit" viewBox="0 0 24 24">
          <path
            d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"
          ></path>
        </symbol>
        <symbol id="icon-trash" viewBox="0 0 24 24">
          <path
            d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"
          ></path>
        </symbol>
        <symbol id="icon-chevron-down" viewBox="0 0 24 24">
          <path
            d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"
          ></path>
        </symbol>
      </defs>
    </svg>

    <div id="splashScreen" class="splash-screen">
      <div class="splash-icon">ðŸŽµ</div>
    </div>

    <audio id="audioElement" crossorigin="anonymous"></audio>

    <div class="app-container" id="appContainer" tabindex="0">
      <!-- Player Panel -->
      <div class="music-player">
        <div class="player-header">
          <button id="themeToggle" class="theme-toggle" title="Toggle Theme">
            <svg class="svg-icon"><use href="#icon-moon"></use></svg>
          </button>
        </div>

        <div class="player-content">
          <div class="song-info">
            <div class="song-title" id="songTitle">No Song Selected</div>
            <div class="artist-name" id="artistName">Select music to begin</div>
          </div>
          <div class="visualizer-container">
            <canvas id="visualizerCanvas"></canvas>
          </div>
          <div class="progress-container">
            <div class="time-info">
              <span id="currentTime">0:00</span>
              <span id="totalTime">0:00</span>
            </div>
            <div class="progress-bar" id="progressBar">
              <div class="progress-fill" id="progressFill"></div>
            </div>
          </div>
          <div class="main-controls">
            <button class="control-btn" id="seekBackwardBtn" title="Rewind 10s">
              <svg class="svg-icon"><use href="#icon-seek-backward"></use></svg>
            </button>
            <button class="control-btn" id="prevBtn" title="Previous">
              <svg class="svg-icon"><use href="#icon-prev"></use></svg>
            </button>
            <button
              class="control-btn play-btn"
              id="playBtn"
              title="Play/Pause (Spacebar)"
            >
              <svg class="svg-icon"><use href="#icon-play"></use></svg>
            </button>
            <button class="control-btn" id="nextBtn" title="Next">
              <svg class="svg-icon"><use href="#icon-next"></use></svg>
            </button>
            <button class="control-btn" id="seekForwardBtn" title="Forward 10s">
              <svg class="svg-icon"><use href="#icon-seek-forward"></use></svg>
            </button>
          </div>
          <div class="secondary-controls">
            <div class="control-group">
              <button class="icon-btn" id="volumeIconBtn" title="Mute/Unmute">
                <svg class="svg-icon" id="volumeIcon">
                  <use href="#icon-volume-high"></use>
                </svg>
                <span id="volumePercentage">70</span>
              </button>
              <input
                type="range"
                class="slider has-fill"
                id="volumeSlider"
                min="0"
                max="100"
                value="70"
                title="Volume"
              />
            </div>
            <div class="control-group">
              <button class="icon-btn">
                <svg class="svg-icon"><use href="#icon-speed"></use></svg>
              </button>
              <input
                type="range"
                class="slider has-fill"
                id="speedSlider"
                min="0"
                max="4"
                value="2"
                step="1"
                title="Playback Speed"
              />
              <span
                id="speedDisplay"
                class="speed-display"
                style="text-align: right"
                >1.00x</span
              >
            </div>
          </div>
        </div>
      </div>

      <!-- Playlist Panel -->
      <div class="playlist-panel">
        <div class="playlist-header">
          <select class="playlist-select" id="playlistSelect"></select>
          <div style="position: relative">
            <button class="add-music-btn" id="addMusicBtn">
              <svg class="svg-icon" style="width: 16px; height: 16px">
                <use href="#icon-add"></use>
              </svg>
              <span>Manage</span>
              <svg class="svg-icon" style="width: 16px; height: 16px">
                <use href="#icon-chevron-down"></use>
              </svg>
            </button>
            <div class="add-dropdown" id="addDropdown">
              <div class="dropdown-item" id="uploadFiles">
                <div class="icon">
                  <svg class="svg-icon"><use href="#icon-upload"></use></svg>
                </div>
                <span>Add Files</span>
              </div>
              <div class="dropdown-item" id="createPlaylist">
                <div class="icon">
                  <svg class="svg-icon"><use href="#icon-playlist"></use></svg>
                </div>
                <span>New Playlist</span>
              </div>
              <div class="dropdown-item" id="editPlaylist">
                <div class="icon">
                  <svg class="svg-icon"><use href="#icon-edit"></use></svg>
                </div>
                <span>Rename Playlist</span>
              </div>
              <div class="dropdown-item" id="deletePlaylist">
                <div class="icon">
                  <svg class="svg-icon"><use href="#icon-trash"></use></svg>
                </div>
                <span>Delete Playlist</span>
              </div>
            </div>
          </div>
        </div>
        <div class="playlist" id="playlist"></div>
        <div class="drag-drop-area" id="dragDropArea">
          <div>Drop music files here or click 'Add Files'</div>
        </div>
      </div>
    </div>

    <!-- Modals and Inputs -->
    <div class="modal" id="playlistModal">
      <div class="modal-content">
        <div class="modal-title" id="playlistModalTitle">
          Create New Playlist
        </div>
        <div class="form-group">
          <label class="form-label">Playlist Name</label
          ><input
            type="text"
            class="form-input"
            id="playlistNameInput"
            placeholder="Enter playlist name"
          />
        </div>
        <div class="modal-buttons">
          <button class="modal-btn btn-secondary" id="cancelPlaylistBtn">
            Cancel</button
          ><button class="modal-btn btn-primary" id="savePlaylistBtn">
            Save
          </button>
        </div>
      </div>
    </div>
    <input
      type="file"
      class="file-input"
      id="fileInput"
      accept="audio/*"
      multiple
    />

    <!-- Link to the external JavaScript file -->
    <script src="script.js" defer></script>
  </body>
</html>
